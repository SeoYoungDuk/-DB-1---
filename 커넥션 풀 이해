커넥션 풀 이해

기존의 방법을 사용하면 데이터베이스 커넥션을 매번 획득하게 됨.

DB드라이버 - DB tcp/ip 커넥션 연결
커넥션 연결하면 id,pw 전달
db 내부에 세션 생성
db 커넥션 완료 응답 보냄
db드라이버는 커넥션 객체를 생성해서 클라이언트에 반환

=> 복잡하고, 시간 많이 소요됨.
=> 데이터베이스마다 커넥션 생성하는 시간 다름

이런 문제들을 해결 하고자, 커넥션을 미리 생성해둠! => 커넥션 풀
보통 10개 이다.
10개 모두가 TCP/IP 연결 되어있음

커넥션 풀 사용
애플리케이션 로직에서는 db드라이버를 통해 커넥션을 획득하지 않고, 커넥션 풀을 통해 커넥션을 객체 참조로 가져다 씀.
그래서 애플리케이션로직은 sql실행 시간만 걸리게 됨
커넥션을 종료하지 않고, 커넥션 풀에 반환해야함!


정리
커넥션 풀 숫자는 서비스 특징과 애플리케이션 서버 스펙, DB서버 스펙에 따라 달라서 성능 테스트를 통해 정해야함.
데이터베이스에 무한정 연결 생성하는것을 막아줘서 db보호 하는 효과가 있다.
현재는 HickariCP 커넥션 풀 오픈소스 사용하면 됨.
