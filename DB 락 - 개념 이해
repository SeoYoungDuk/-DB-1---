세션 1 트랙잭션 시작하고, 커밋을 수행하지 않았는데 세션 2에서 동시에 같은 데이터를 수정하게 되면 원자성 깨짐.


데이터베이스는 이런문제를 해결하기 위해, 락이라는 개념을 제공한다.


세션1은 트랜잭션을 시작한다.
세션 1은 memberA money 500 변경 시도 -> 이때 락을 먼저 획득해야함
세션 1은 락을 획득했기때문에 로우에 update sql 수행 가능.

세션2은 트랜잭션을 시작한다.
세션 2은 memberA money 500 변경 시도 -> 이때 락을 먼저 획득해야함
세션 2는 락이 없음으로 락이 돌아올때까지 대기해야함.
세션 2는 무한정 대기하는건 아니고, 락대기시간이 넘어가면 락 타임아웃 오류가 발생한다.


